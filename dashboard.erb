{
    "widgets": [
        {
            "type": "metric",
            "x": 12,
            "y": 12,
            "width": 6,
            "height": 6,
            "properties": {
                "view": "timeSeries",
                "stacked": false,
                "region": "<%=availZone%>",
                "metrics": [
                    [ "AWS/EC2", "5MinuteAveragePostRequestTime", "TestId", "<%=testId%>", "Instance", "terraform_automate_<%=randomId%>_chef_automate_01" ]
                ],
                "title": "ES Bulk Post Request Times"
            }
        },
        {
            "type": "metric",
            "x": 6,
            "y": 0,
            "width": 6,
            "height": 6,
            "properties": {
                "view": "timeSeries",
                "stacked": false,
                "region": "<%=availZone%>",
                "metrics": [
                    [ "AWS/EC2", "5MinuteAveragePostUpstreamResponseTime", "TestId", "<%=testId%>", "Instance", "terraform_automate_<%=randomId%>_chef_automate_01" ]
                ],
                "title": "ES Upstream Post Request Times"
            }
        },
        {
            "type": "metric",
            "x": 12,
            "y": 0,
            "width": 6,
            "height": 6,
            "properties": {
                "view": "timeSeries",
                "stacked": false,
                "region": "<%=availZone%>",
                "title": "Rabbit Data Collector Queue Length",
                "metrics": [
                    [ "AWS/EC2", "DataCollectorQueueLength", "TestId", "<%=testId%>", "Instance", "terraform_automate_<%=randomId%>_chef_automate_01" ]
                ]
            }
        },
        {
            "type": "metric",
            "x": 0,
            "y": 6,
            "width": 6,
            "height": 6,
            "properties": {
                "view": "timeSeries",
                "stacked": false,
                "region": "<%=availZone%>",
                "title": "ES GC Young Collection Count",
                "metrics": [
                    [ "AWS/EC2", "GCYoungCollectionCount", "TestId", "<%=testId%>", "Instance", "terraform_automate_<%=randomId%>_esbackend_01" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_02" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_03" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_04" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_05" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_06" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_07" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_08" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_09" ]
                ]
            }
        },
        {
            "type": "metric",
            "x": 18,
            "y": 12,
            "width": 6,
            "height": 6,
            "properties": {
                "view": "timeSeries",
                "stacked": false,
                "region": "<%=availZone%>",
                "title": "ES Disk Queue Size",
                "metrics": [
                    [ "AWS/EC2", "ESDiskQueueSize", "TestId", "<%=testId%>", "Instance", "terraform_automate_<%=randomId%>_esbackend_01" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_02" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_03" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_04" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_05" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_06" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_07" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_08" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_09" ]
                ]
            }
        },
        {
            "type": "metric",
            "x": 0,
            "y": 24,
            "width": 6,
            "height": 6,
            "properties": {
                "view": "timeSeries",
                "stacked": false,
                "region": "<%=availZone%>",
                "title": "Compliance Index Size",
                "metrics": [
                    [ "AWS/EC2", "ComplianceIndexBytes", "TestId", "<%=testId%>", "Instance", "terraform_automate_<%=randomId%>_esbackend_01" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_02" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_03" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_04" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_05" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_06" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_07" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_08" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_09" ]
                ]
            }
        },
        {
            "type": "metric",
            "x": 6,
            "y": 24,
            "width": 6,
            "height": 6,
            "properties": {
                "view": "timeSeries",
                "stacked": false,
                "region": "<%=availZone%>",
                "title": "Compliance Index Document Count",
                "metrics": [
                    [ "AWS/EC2", "ComplianceRecords", "TestId", "<%=testId%>", "Instance", "terraform_automate_<%=randomId%>_esbackend_01" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_02" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_03" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_04" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_05" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_06" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_07" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_08" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_09" ]
                ]
            }
        },
        {
            "type": "metric",
            "x": 18,
            "y": 6,
            "width": 6,
            "height": 6,
            "properties": {
                "view": "timeSeries",
                "stacked": false,
                "region": "<%=availZone%>",
                "title": "ES GC Young Collection TIme",
                "metrics": [
                    [ "AWS/EC2", "GCYoungCollectionTimeInMillis", "TestId", "<%=testId%>", "Instance", "terraform_automate_<%=randomId%>_esbackend_01" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_02" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_03" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_04" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_05" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_06" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_07" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_08" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_09" ]
                ]
            }
        },
        {
            "type": "metric",
            "x": 12,
            "y": 6,
            "width": 6,
            "height": 6,
            "properties": {
                "view": "timeSeries",
                "stacked": false,
                "region": "<%=availZone%>",
                 "title": "ES Heap Used",
                "metrics": [
                    [ "AWS/EC2", "HeapUsedInBytes", "TestId", "<%=testId%>", "Instance", "terraform_automate_<%=randomId%>_esbackend_01" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_02" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_03" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_04" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_05" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_06" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_07" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_08" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_09" ]
                ]
            }
        },
        {
            "type": "metric",
            "x": 6,
            "y": 6,
            "width": 6,
            "height": 6,
            "properties": {
                "view": "timeSeries",
                "stacked": false,
                "region": "<%=availZone%>",
                "title": "ES Heap Used Percent",
                "metrics": [
                    [ "AWS/EC2", "HeapUsedPercent", "TestId", "<%=testId%>", "Instance", "terraform_automate_<%=randomId%>_esbackend_01" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_02" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_03" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_04" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_05" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_06" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_07" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_08" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_09" ]
                ]
            }
        },
        {
            "type": "metric",
            "x": 0,
            "y": 18,
            "width": 6,
            "height": 6,
            "properties": {
                "view": "timeSeries",
                "stacked": false,
                "region": "<%=availZone%>",
                "title": "Node Index Size",
                "metrics": [
                    [ "AWS/EC2", "NodeIndexBytes", "TestId", "<%=testId%>", "Instance", "terraform_automate_<%=randomId%>_esbackend_01" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_02" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_03" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_04" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_05" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_06" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_07" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_08" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_09" ]
                ]
            }
        },
        {
            "type": "metric",
            "x": 6,
            "y": 18,
            "width": 6,
            "height": 6,
            "properties": {
                "view": "timeSeries",
                "stacked": false,
                "region": "<%=availZone%>",
                "title": "Node Index Document Count",
                "metrics": [
                    [ "AWS/EC2", "NodeRecords", "TestId", "<%=testId%>", "Instance", "terraform_automate_<%=randomId%>_esbackend_01" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_02" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_03" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_04" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_05" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_06" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_07" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_08" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_09" ]
                ]
            }
        },
        {
            "type": "metric",
            "x": 18,
            "y": 0,
            "width": 6,
            "height": 6,
            "properties": {
                "view": "timeSeries",
                "stacked": false,
                "region": "<%=availZone%>",
                "title": "Daily Combined Indices Size*",
                "metrics": [
                    [ "AWS/EC2", "TotalBytes", "TestId", "<%=testId%>", "Instance", "terraform_automate_<%=randomId%>_esbackend_01" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_02" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_03" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_04" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_05" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_06" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_07" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_08" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_09" ]
                ]
            }
        },
        {
            "type": "metric",
            "x": 0,
            "y": 0,
            "width": 6,
            "height": 6,
            "properties": {
                "view": "timeSeries",
                "stacked": false,
                "metrics": [
                    [ "AWS/EC2", "TotalRecordsPerMinute", "TestId", "<%=testId%>", "Instance", "terraform_automate_<%=randomId%>_esbackend_01", { "stat": "Average" } ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_02", { "stat": "Average" } ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_03", { "stat": "Average" } ]
                ],
                "region": "<%=availZone%>",
                "period": 300,
                "title": "Documents Ingested Per Minute"
            }
        },
        {
            "type": "metric",
            "x": 6,
            "y": 12,
            "width": 6,
            "height": 6,
            "properties": {
                "view": "timeSeries",
                "stacked": false,
                "metrics": [
                    [ "AWS/EC2", "LogstashHeap_logstash", "TestId", "<%=testId%>", "Instance", "terraform_automate_<%=randomId%>_chef_automate_01" ],
                    [ ".", "LogstashHeap_logstash2", ".", ".", ".", "." ],
                    [ ".", "LogstashHeap_logstash3", ".", ".", ".", "." ],
                    [ ".", "LogstashHeap_logstash4", ".", ".", ".", "." ],
                    [ ".", "LogstashHeap_logstash5", ".", ".", ".", "." ],
                    [ ".", "LogstashHeap_logstash6", ".", ".", ".", "." ],
                    [ ".", "LogstashHeap_logstash7", ".", ".", ".", "." ],
                    [ ".", "LogstashHeap_logstash8", ".", ".", ".", "." ],
                    [ ".", "LogstashHeap_logstash9", ".", ".", ".", "." ],
                    [ ".", "LogstashHeap_logstash10", ".", ".", ".", "." ],
                    [ ".", "LogstashHeap_logstash11", ".", ".", ".", "." ],
                    [ ".", "LogstashHeap_logstash12", ".", ".", ".", "." ],
                    [ ".", "LogstashHeap_logstash13", ".", ".", ".", "." ],
                    [ ".", "LogstashHeap_logstash14", ".", ".", ".", "." ],
                    [ ".", "LogstashHeap_logstash15", ".", ".", ".", "." ],
                    [ ".", "LogstashHeap_logstash16", ".", ".", ".", "." ],
                    [ ".", "LogstashHeap_logstash17", ".", ".", ".", "." ],
                    [ ".", "LogstashHeap_logstash18", ".", ".", ".", "." ]
                ],
                "region": "<%=availZone%>",
                "title": "Logstash Heap Usage per Process"
            }
        },
       {
            "type": "metric",
            "x": 0,
            "y": 12,
            "width": 6,
            "height": 6,
            "properties": {
                "view": "timeSeries",
                "stacked": false,
                "metrics": [
                    [ "AWS/EC2", "TotalLogstashHeap", "TestId", "<%=testId%>", "Instance", "terraform_automate_<%=randomId%>_chef_automate_01" ]
                ],
                "region": "<%=availZone%>",
                "title": "Total Logstash Heap Usage"
            }
        },
        {
            "type": "metric",
            "x": 18,
            "y": 24,
            "width": 6,
            "height": 6,
            "properties": {
                "view": "timeSeries",
                "stacked": false,
                "metrics": [
                    [ "AWS/EC2", "ClusterNumberOfNodes", "TestId", "<%=testId%>", "Instance", "terraform_automate_<%=randomId%>_esbackend_01" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_02" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_03" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_04" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_05" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_06" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_07" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_08" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_09" ]
                ],
                "region": "<%=availZone%>",
                "title": "Number of ES Nodes in Cluster"
            }
        },
        {
            "type": "metric",
            "x": 12,
            "y": 24,
            "width": 6,
            "height": 6,
            "properties": {
                "view": "timeSeries",
                "stacked": false,
                "metrics": [
                    [ "AWS/EC2", "ClusterActiveShards", "TestId", "<%=testId%>", "Instance", "terraform_automate_<%=randomId%>_esbackend_01" ],
                    [ ".", "ClusterInitializingShards", ".", ".", ".", "." ],
                    [ ".", "ClusterRelocatingShards", ".", ".", ".", "." ],
                    [ ".", "ClusterDelayedUnassignedShards", ".", ".", ".", "." ],
                    [ ".", "ClusterUnassignedShards", ".", ".", ".", "." ],
                    [ ".", "ClusterNumberOfPendingTasks", ".", ".", ".", "." ],
                    [ ".", "ClusterActivePrimaryShards", ".", ".", ".", "." ]
                ],
                "region": "<%=availZone%>",
                "title": "ES Shard Health",
                "period": 300
            }
        },
        {
            "type": "metric",
            "x": 18,
            "y": 18,
            "width": 6,
            "height": 6,
            "properties": {
                "view": "timeSeries",
                "stacked": false,
                "metrics": [
                    [ "AWS/EC2", "Non2xxStatuses", "TestId", "<%=testId%>", "Instance", "terraform_automate_<%=randomId%>_chef_automate_01" ]
                ],
                "region": "<%=availZone%>",
                "title": "ES Upstream Errors"
            }
        },
        {
            "type": "metric",
            "x": 12,
            "y": 18,
            "width": 6,
            "height": 6,
            "properties": {
                "view": "timeSeries",
                "stacked": false,
                "metrics": [
                    [ "AWS/EC2", "TotalRecords", "TestId", "<%=testId%>", "Instance", "terraform_automate_<%=randomId%>_esbackend_01" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_02" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_03" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_04" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_05" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_06" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_07" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_08" ],
                    [ "...", "terraform_automate_<%=randomId%>_esbackend_09" ]
                ],
                "region": "<%=availZone%>",
                "title": "Total Index Document Count*"
            }
        }
    ]
}
